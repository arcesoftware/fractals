<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rich Coast</title>
</head>
<style>
  #viewer {
    background-color: #070400;
    border: 1px solid rgb(0, 0, 0);
    background-color: black;
    border-radius: 4px;
    position: relative;
    left: 50%;
    transform: translateX(-50%);
  }

  body {
    background-color: black;
  }

  h1 {
    text-align: center;
    color: white;
  }
  h1:hover {
    transform: scale(1.2);
  }
  #logo {
    position: absolute;
    top: 10px;
    left: 40px;
    width: 10%;
    height: auto;
    transition: all 0.3s ease;
  }
  @media only screen and (max-width: 600px) {
    .logo {
      width: 20%;
    }
  }
  #logo:hover {
    transform: scale(1.2);
  }
</style>
<script>
let canvas;
let canvasContext;
let x = 0, y = 0;
let iterationCount = 0;
const maxIterations = 90000;

window.onload = function () {
    canvas = document.getElementById("canvas");
    canvasContext = canvas.getContext('2d');
    canvasContext.fillStyle = "black";
    canvasContext.fillRect(0, 0, canvas.width, canvas.height);
    setInterval(() => {
        // Update 20 times every frame
        for (let i = 0; i < 20; i++)
            update();
    }, 1000/250); // 250 frames per second
};

function update() {

    let nextX, nextY;
    let r = Math.random();
    if (r < 0.01) {
        nextX =  0;
        nextY =  0.16 * y;
    } else if (r < 0.86) {
        nextX =  0.85 * x + 0.04 * y;
        nextY = -0.04 * x + 0.85 * y + 1.6;
    } else if (r < 0.93) {
        nextX =  0.20 * x - 0.26 * y;
        nextY =  0.23 * x + 0.22 * y + 1.6;
    } else {
        nextX = -0.15 * x + 0.28 * y;
        nextY =  0.26 * x + 0.24 * y + 0.44;
    }

    // Scaling and positioning
    let plotX = canvas.width * (x + 3) / 6;
    let plotY = canvas.height - canvas.height * ((y + 2) / 14);

    // Calculate distance from the origin
    const distance = Math.sqrt(x*x + y*y);
    // Calculate color based on distance from the origin
    let color = `rgb(${Math.min(255, Math.max(0, 255 * (1 - distance / 1000)))}, ${Math.min(255, Math.max(0, 255 * (distance / 1000)))}, ${Math.floor(Math.random() * 256)})`;
    drawFilledCircle(plotX, plotY, 1, color);

    x = nextX;
    y = nextY;

    if (iterationCount >= maxIterations) {
        iterationCount = 0;
        x = 0;
        y = 0;
        canvasContext.clearRect(0, 0, canvas.width, canvas.height);
        window.onload();
        return;
    }

    iterationCount++;
}

const drawFilledCircle = (centerX, centerY, radius, color) => {
    canvasContext.beginPath();
    canvasContext.fillStyle = color;
    canvasContext.arc(centerX, centerY, radius, 0, 2 * Math.PI, true);
    canvasContext.fill();
};
</script>
<body>
<h1><a href="https://en.wikipedia.org/wiki/Barnsley_fern" style="color:white; text-decoration: none;">Barnsley Fern</a></h1>
<canvas id="viewer"></canvas>
<a href="https://www.youtube.com/@richcoast">
  <img id="logo" src="https://64.media.tumblr.com/821a6e9a40e6021c77288cd0fd1cfd39/278ebf14bb3d8b41-78/s540x810/9d00e6939f5aef9eb5e64a17f8fb56eef498876c.png">
</a>
</body>
</html>
